/*! jquery.carousel2.js (git@github.com:oosugi20/jquery.carousel2.js.git)
* 
 * lastupdate: 2014-09-25
 * version: 0.2.0
 * author: Makoto OOSUGI <oosugi20@gmail.com>
 * License: MIT
 */
!function(a,b){"use script";var c,d="Carousel",e="carousel",f=a(b);c=function(b,c){this.el=b,this.$el=a(b),this.options=a.extend({frame_selector:".js-carousel-frame",items_selector:".js-carousel-items",item_selector:".js-carousel-item",prevButton_selector:".js-carousel-prev",nextButton_selector:".js-carousel-next",pointer_selector:".js-carousel-pointer",point_selector:".js-carousel-point",pointer:!0,autoPlay:!0,distance:null,duration:300,interval:8e3},c)},function(b){b.init=function(){this._prepareElms(),this._eventify(),this.distance=this.options.distance||this._getDistance(),this.point=0,this.max_point=this.$item.length-1,this.$items.css({position:"relative"}),this.options.pointer&&this._createPointer(),this.$item.last().prependTo(this.$items);var b=-1*this.distance;this.$items.css({left:b}),this.$item=this.$items.find(this.options.item_selector),this._playTimer=null,this.options.autoPlay&&f.on("load",a.proxy(this.startPlay,this))},b._prepareElms=function(){var a=this.options;this.$frame=this.$el.find(a.frame_selector),this.$items=this.$el.find(a.items_selector),this.$item=this.$el.find(a.item_selector),this.$prev=this.$el.find(a.prevButton_selector),this.$next=this.$el.find(a.nextButton_selector),this.$pointer=this.$el.find(a.pointer_selector),this.$point=this.$el.find(a.point_selector)},b._getDistance=function(){return this.$item.width()},b._createPointer=function(){var b=this,c=this.$point.first();this.$pointer.html(""),a.each(this.$item,function(){b.$pointer.append(c.clone())}),this.$point=this.$pointer.find(this.options.point_selector),this._updatePointer()},b._updatePointer=function(){this.$point.removeClass("current"),this.$point.eq(this.point).addClass("current")},b.moveTo=function(){},b.toPrev=function(){var a=this,b=this.options.duration,c=this.options.easing,d=this.hasPrev()?this.point-1:this.max_point,e=-1*this.distance,f=-2*this.distance;return this.$items.is(":animated")?!1:(this.point=d,this.$el.trigger("carousel:beforemove"),this._updatePointer(),this.$item.last().prependTo(a.$items),this.$item=this.$el.find(this.options.item_selector),this.$items.css({left:f}),void this.$items.animate({left:e},{duration:b,easing:c,done:function(){a.$el.trigger("carousel:aftermove")}}))},b.toNext=function(){var a=this,b=this.options.duration,c=this.options.easing,d=this.hasNext()?this.point+1:0,e=-1*this.distance,f=-2*this.distance;return this.$items.is(":animated")?!1:(this.point=d,this.$el.trigger("carousel:beforemove"),this._updatePointer(),void this.$items.animate({left:f},{duration:b,easing:c,done:function(){a.$item.first().appendTo(a.$items),a.$item=a.$el.find(a.options.item_selector),a.$items.css({left:e}),a.$el.trigger("carousel:aftermove")}}))},b.play=function(){var b=this.options.interval;this._playTimer&&(clearTimeout(this._playTimer),this._playTimer=null),this._playTimer=setTimeout(a.proxy(this.toNext,this),b)},b.startPlay=function(){this.play(),this.$el.on("carousel:aftermove",a.proxy(this.play,this)),this.$el.trigger("carousel:startplay")},b.hasPrev=function(){return this.point-1>=0},b.hasNext=function(){return this.point+1<=this.max_point},b._eventify=function(){this.$prev.on("click",a.proxy(this._onPrevClick,this)),this.$next.on("click",a.proxy(this._onNextClick,this))},b._onPrevClick=function(a){a.preventDefault(),this.toPrev()},b._onNextClick=function(a){a.preventDefault(),this.toNext()}}(c.prototype),a.fn[e]=function(b){return this.each(function(){var d;a.data(this,e)||(d=new c(this,b),a.data(this,e,d),d.init())})},a[d]=c}(jQuery,this);